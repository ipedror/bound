# üìÑ FASE 3: Graph Visualization & Rendering

## ESTRUTURA GERAL

A **Fase 3** implementa a visualiza√ß√£o de grafo (graph view) onde conte√∫dos fechados aparecem como n√≥s e links aparecem como arestas, criando uma representa√ß√£o visual dos v√≠nculos entre informa√ß√µes. Seu objetivo √© criar:

1. **Graph Engine** usando Cytoscape.js que gerencia n√≥s, arestas, layout e intera√ß√µes
2. **Node Renderer** que exibe n√≥s com emoji, t√≠tulo, background customizado
3. **Edge Renderer** que diferencia visualmente links manuais vs autom√°ticos
4. **Layout Calculator** que posiciona n√≥s usando for√ßa-dirigida ou circular
5. **GraphManager** que sincroniza Content/Links com n√≥s/arestas do grafo
6. **Integra√ß√£o com Hooks** (`useGraph`) para consumir dados

Ao final da Fase 3, voc√™ ter√° uma **visualiza√ß√£o interativa de grafo completa**, onde o usu√°rio v√™ todos os v√≠nculos entre conte√∫dos, pode reposicionar n√≥s, e navegar para editar conte√∫dos clicando nos n√≥s.

***

## FASE 3: Graph Visualization & Rendering

### ETAPA 1: Instala√ß√£o & Configura√ß√£o de Cytoscape.js

**Objetivo:**  
Instalar Cytoscape.js e configurar types, estilos, e estrutura para o graph renderer.

**Arquivos principais a tocar:**
- `package.json`
- `src/types/graph.ts` (tipos espec√≠ficos de graph, estende types/graph.ts)
- `src/constants/graph.ts` (defaults de layout, cores de n√≥s, estilos)

**Prompt para IA:**

```text
Voc√™ √© um engenheiro frontend especializado em graph visualization e bibliotecas de renderiza√ß√£o.

TAREFA:
Instalar e configurar Cytoscape.js para a aplica√ß√£o BOUND, preparando estrutura base para o visualizador de grafo.

CONTEXTO IMPORTANTE:
- Cytoscape.js √© uma biblioteca JavaScript para visualiza√ß√£o de grafos (n√≥s, arestas, layouts).
- Performance √© cr√≠tica: queremos renderizar 100+ n√≥s sem lag.
- Modo escuro obrigat√≥rio: backgrounds escuros, n√≥s/arestas com cores claras.
- Layout ser√° force-directed (f√≠sica de repuls√£o/atra√ß√£o) ou circular.
- Sem depend√™ncias extras desnecess√°rias (manter bundle leve).

FUNCIONALIDADE DESEJADA:

1. **Instala√ß√£o de Cytoscape.js:**
   - `npm install cytoscape`
   - `npm install --save-dev @types/cytoscape`
   - Opcionalmente: `npm install cytoscape-cose-bilkent` (layout melhorado)

2. **Tipos TypeScript para Graph:**
   ```typescript
   // src/types/graph.ts (extends)
   export interface CytoscapeNode {
     data: {
       id: string;
       contentId: string;
       label: string;
       emoji?: string;
       title: string;
       color?: string;
     };
     position?: { x: number; y: number };
     style?: Record<string, string | number>;
   }

   export interface CytoscapeEdge {
     data: {
       id: string;
       source: string; // nodeId (= contentId)
       target: string; // nodeId (= contentId)
       linkId: string;
       type: LinkType; // 'manual' | 'auto'
     };
     style?: Record<string, string | number>;
   }

   export interface CytoscapeLayout {
     name: 'force-directed' | 'circular' | 'grid' | 'breadthfirst';
     // op√ß√µes espec√≠ficas de cada layout
   }

   export interface GraphViewState {
     layout: CytoscapeLayout;
     selectedNodeId?: string;
     hoveredNodeId?: string;
     zoomLevel: number;
     panX: number;
     panY: number;
   }
   ```

3. **Constantes (cores, estilos, defaults):**
   ```typescript
   // src/constants/graph.ts
   export const DEFAULT_GRAPH_STATE: GraphViewState = {
     layout: { name: 'force-directed' },
     selectedNodeId: undefined,
     hoveredNodeId: undefined,
     zoomLevel: 1,
     panX: 0,
     panY: 0,
   };

   export const CYTOSCAPE_STYLE = [
     {
       selector: 'node',
       css: {
         'background-color': '#38bdf8', // ciano
         'border-color': '#00d4ff',
         'border-width': 2,
         'text-valign': 'center',
         'text-halign': 'center',
         'label': 'data(label)',
         'color': '#f1f1f1',
         'font-size': 12,
         'width': 60,
         'height': 60,
         'shape': 'ellipse',
       },
     },
     {
       selector: 'node:selected',
       css: {
         'border-width': 4,
         'border-color': '#ffbe0b',
         'background-color': '#3a86ff',
       },
     },
     {
       selector: 'edge',
       css: {
         'line-color': '#8338ec', // roxo para manual
         'target-arrow-color': '#8338ec',
         'target-arrow-shape': 'triangle',
         'width': 2,
         'opacity': 0.8,
       },
     },
     {
       selector: 'edge[type="auto"]',
       css: {
         'line-color': '#06ffa5', // verde para auto
         'target-arrow-color': '#06ffa5',
         'line-style': 'dashed',
       },
     },
     {
       selector: 'edge:selected',
       css: {
         'line-color': '#ffbe0b',
         'target-arrow-color': '#ffbe0b',
         'width': 3,
       },
     },
   ];

   export const LAYOUT_OPTIONS = {
     'force-directed': {
       name: 'cose',
       nodeSpacing: 100,
       animate: true,
       animationDuration: 500,
     },
     'circular': {
       name: 'circle',
       animate: true,
       animationDuration: 500,
     },
   };
   ```

INSTRU√á√ïES T√âCNICAS:

1. Execute:
   ```bash
   npm install cytoscape cytoscape-cose-bilkent
   npm install --save-dev @types/cytoscape
   ```

2. Crie `src/types/graph.ts` (estende tipos existentes):
   - Interface CytoscapeNode, CytoscapeEdge
   - Interface GraphViewState
   - Interface CytoscapeLayout

3. Crie `src/constants/graph.ts`:
   - DEFAULT_GRAPH_STATE
   - CYTOSCAPE_STYLE (array de estilos CSS)
   - LAYOUT_OPTIONS

4. Validar que Cytoscape n√£o aumenta bundle muito (deve ser <40KB min gzipped).

5. Sem testes complexos; apenas type check.

SA√çDA ESPERADA:
- Cytoscape.js instalado e dispon√≠vel.
- Types definidos em `src/types/graph.ts`.
- Constantes em `src/constants/graph.ts`.
- TypeScript sem erros.

CRIT√âRIOS DE ACEITE:
- [ ] `npm install` funciona.
- [ ] `npm run type-check` passa.
- [ ] Cytoscape pode ser importado: `import cytoscape from 'cytoscape'`.
- [ ] Bundle check: Cytoscape <40KB gzipped.

N√ÉO FAZER:
- N√£o usar Vis.js (j√° escolhemos Cytoscape).
- N√£o instalar plugins desnecess√°rios de Cytoscape.
- N√£o fazer UI ainda.
```

***

### ETAPA 2: Implementar GraphManager (Sync Content ‚Üî Nodes/Edges)

**Objetivo:**  
Criar manager que sincroniza Content/Links com n√≥s/arestas do grafo, computando estrutura Cytoscape a partir de dom√≠nio.

**Arquivos principais a tocar:**
- `src/managers/GraphManager.ts`
- `src/managers/GraphManager.test.ts`
- `src/utils/graph/nodeFactory.ts` (criar CytoscapeNode)
- `src/utils/graph/edgeFactory.ts` (criar CytoscapeEdge)

**Prompt para IA:**

```text
Voc√™ √© um engenheiro de software especializado em graph processing e domain mapping.

TAREFA:
Implementar `GraphManager`: manager que converte Content (fechados) + Links em estrutura Cytoscape (nodes + edges), sincronizando dom√≠nio ‚Üî grafo.

CONTEXTO IMPORTANTE:
- Apenas Conte√∫dos com status='closed' vir√£o n√≥s no grafo.
- Links (manual ou auto) vir√£o arestas.
- NodePosition deve ser calculada/recuperada de Content.nodePosition.
- GraphManager √© stateless (recebe AppState, retorna estrutura Cytoscape).

FUNCIONALIDADE DESEJADA:

1. **GraphManager (static methods):**
   ```typescript
   export class GraphManager {
     static buildGraph(
       state: AppState,
       areaId?: string,
     ): { nodes: CytoscapeNode[]; edges: CytoscapeEdge[] } {
       // Filtrar Conte√∫dos fechados (status='closed')
       // Se areaId, filtrar apenas dessa area
       // Criar CytoscapeNode para cada Content fechado
       // Criar CytoscapeEdge para cada Link
       // Retornar { nodes, edges }
     }

     static getNodesByAreaId(
       areaId: string,
       state: AppState,
     ): CytoscapeNode[] {
       // Retornar n√≥s apenas dessa area
     }

     static updateNodePosition(
       contentId: string,
       position: Position,
       state: AppState,
     ): AppState {
       // Atualizar Content.nodePosition
       // Retornar novo state
     }

     static getContentById(nodeId: string, state: AppState): Content | undefined {
       // Helper: nodeId = contentId
     }
   }
   ```

2. **NodeFactory (helpers):**
   ```typescript
   export class NodeFactory {
     static createNode(content: Content, state: CanvasState?): CytoscapeNode {
       // content deve estar closed
       // Retornar CytoscapeNode com dados
       const node: CytoscapeNode = {
         data: {
           id: content.id,
           contentId: content.id,
           label: content.emoji ? `${content.emoji} ${content.title}` : content.title,
           emoji: content.emoji,
           title: content.title,
           color: state?.fillColor || '#38bdf8',
         },
         position: content.nodePosition || { x: Math.random() * 800, y: Math.random() * 600 },
       };
       return node;
     }
   }
   ```

3. **EdgeFactory (helpers):**
   ```typescript
   export class EdgeFactory {
     static createEdge(link: Link, state: AppState): CytoscapeEdge {
       // Retornar CytoscapeEdge com dados
       const edge: CytoscapeEdge = {
         data: {
           id: link.id,
           source: link.fromContentId,
           target: link.toContentId,
           linkId: link.id,
           type: link.type,
         },
       };
       return edge;
     }
   }
   ```

4. **Testes:**
   ```typescript
   describe('GraphManager', () => {
     it('should build graph from closed contents and links', () => {
       const state = getDefaultState();
       const area = AreaManager.createArea('Test', state);
       state.areas.push(area);
       
       const content1 = ContentManager.createContent(area.id, 'Node 1', state);
       content1.status = 'closed';
       const content2 = ContentManager.createContent(area.id, 'Node 2', state);
       content2.status = 'closed';
       
       state.contents.push(content1, content2);
       
       const link = LinkManager.createLink(content1.id, content2.id, 'manual', undefined, state);
       state.links.push(link);
       
       const { nodes, edges } = GraphManager.buildGraph(state, area.id);
       expect(nodes).toHaveLength(2);
       expect(edges).toHaveLength(1);
       expect(nodes.data.label).toContain('Node 1');
     });

     it('should not include open contents in graph', () => {
       const state = getDefaultState();
       const area = AreaManager.createArea('Test', state);
       state.areas.push(area);
       
       const open = ContentManager.createContent(area.id, 'Open', state);
       // status = 'open' (default)
       state.contents.push(open);
       
       const { nodes } = GraphManager.buildGraph(state, area.id);
       expect(nodes).toHaveLength(0);
     });

     it('should update node position', () => {
       const state = getDefaultState();
       const area = AreaManager.createArea('Test', state);
       state.areas.push(area);
       
       const content = ContentManager.createContent(area.id, 'Node', state);
       content.status = 'closed';
       state.contents.push(content);
       
       const newState = GraphManager.updateNodePosition(content.id, { x: 100, y: 200 }, state);
       const updated = newState.contents.find((c) => c.id === content.id);
       expect(updated?.nodePosition).toEqual({ x: 100, y: 200 });
     });
   });
   ```

INSTRU√á√ïES T√âCNICAS:

1. Crie `src/managers/GraphManager.ts`.
2. Crie `src/utils/graph/nodeFactory.ts`.
3. Crie `src/utils/graph/edgeFactory.ts`.
4. Testes >85% coverage.

SA√çDA ESPERADA:
- `src/managers/GraphManager.ts`
- `src/utils/graph/nodeFactory.ts`
- `src/utils/graph/edgeFactory.ts`
- `src/managers/GraphManager.test.ts` com cobertura >85%

CRIT√âRIOS DE ACEITE:
- [ ] `npm run test` passa GraphManager tests.
- [ ] Grafo constru√≠do corretamente de Content/Links.
- [ ] Posi√ß√µes de n√≥ atualizadas corretamente.
- [ ] TypeScript strict.

N√ÉO FAZER:
- N√£o fazer UI/Cytoscape rendering.
```

***

### ETAPA 3: Implementar GraphView Component (Cytoscape)

**Objetivo:**  
Criar componente React que renderiza grafo interativo usando Cytoscape.js, com zoom, pan, sele√ß√£o de n√≥s, e clique para editar.

**Arquivos principais a tocar:**
- `src/components/GraphView.tsx`
- `src/components/GraphControls.tsx` (layout selector, zoom, reset)
- `src/hooks/useGraphView.ts` (hook customizado para l√≥gica de grafo)

**Prompt para IA:**

```text
Voc√™ √© um expert em React + Cytoscape.js e UI interativa.

TAREFA:
Implementar `GraphView` component: componente React que renderiza grafo interativo usando Cytoscape.js, permite zoom, pan, sele√ß√£o de n√≥s, e navega√ß√£o para editar conte√∫dos.

CONTEXTO IMPORTANTE:
- GraphView renderiza grafo para uma area espec√≠fica (ou global se n√£o especificado).
- Modo escuro obrigat√≥rio: background escuro, n√≥s coloridos, arestas com cores diferenciadas (manual vs auto).
- Performance: deve renderizar 100+ n√≥s suavemente (30 FPS √© aceit√°vel para grafo, n√£o precisa 60).
- Interatividade: click em n√≥ ‚Üí sele√ß√£o visual; double-click ‚Üí open content editor; drag ‚Üí reposicionar n√≥.
- Zoom + Pan com mouse wheel + mouse drag.

FUNCIONALIDADE DESEJADA:

1. **GraphView Component:**
   - Renderiza Cytoscape Stage + nodes + edges
   - Renderiza controles (layout selector, zoom buttons, reset view)
   - Detecta clicks, drags, selections em n√≥s
   - Integra√ß√£o com hooks (useGraph, useNavigation)

2. **Features:**
   - Layout: force-directed (physics), circular, grid, breadthfirst
   - Sele√ß√£o: click em n√≥ ‚Üí outline/highlight
   - Drag n√≥: reposicionar (salva em Content.nodePosition via manager)
   - Double-click n√≥: callback para navegar/editar
   - Zoom: mouse wheel ou buttons
   - Pan: mouse drag (quando nenhum n√≥ selecionado)
   - Reset view: bot√£o para voltar a view padr√£o
   - Modo escuro: fundo escuro, cores de n√≥ customiz√°veis

3. **useGraphView Hook (internamente):**
   ```typescript
   export function useGraphView(areaId?: string) {
     const { state } = useAppStore(useShallow((s) => ({ state: s.state })));
     const { nodes, edges } = useGraph(areaId).getState();
     
     const [graphViewState, setGraphViewState] = useState<GraphViewState>(DEFAULT_GRAPH_STATE);
     const [selectedNodeId, setSelectedNodeId] = useState<string | undefined>();

     const updateNodePosition = (nodeId: string, position: Position) => {
       // Atualizar via GraphManager
       const newState = GraphManager.updateNodePosition(nodeId, position, state);
       useAppStore.setState({ state: newState });
     };

     const changeLayout = (layoutName: string) => {
       setGraphViewState((prev) => ({
         ...prev,
         layout: { name: layoutName as any },
       }));
     };

     const zoom = (direction: 'in' | 'out') => {
       setGraphViewState((prev) => ({
         ...prev,
         zoomLevel: direction === 'in' ? prev.zoomLevel * 1.2 : prev.zoomLevel / 1.2,
       }));
     };

     const resetView = () => {
       setGraphViewState(DEFAULT_GRAPH_STATE);
     };

     return {
       nodes,
       edges,
       graphViewState,
       selectedNodeId,
       setSelectedNodeId,
       updateNodePosition,
       changeLayout,
       zoom,
       resetView,
     };
   }
   ```

INSTRU√á√ïES T√âCNICAS:

1. Crie `src/hooks/useGraphView.ts`.
2. Crie `src/components/GraphView.tsx`:
   ```typescript
   export function GraphView({ areaId }: { areaId?: string }) {
     const {
       nodes,
       edges,
       graphViewState,
       selectedNodeId,
       setSelectedNodeId,
       updateNodePosition,
       changeLayout,
       zoom,
       resetView,
     } = useGraphView(areaId);

     const { goToContent } = useNavigation();

     const cyRef = useRef<cytoscape.Core>(null);
     const containerRef = useRef<HTMLDivElement>(null);

     useEffect(() => {
       if (!containerRef.current) return;

       const cy = cytoscape({
         container: containerRef.current,
         elements: [...nodes, ...edges],
         style: CYTOSCAPE_STYLE,
         layout: LAYOUT_OPTIONS[graphViewState.layout.name],
         wheelSensitivity: 0.1,
         boxSelectionEnabled: false,
       });

       cyRef.current = cy;

       // Event handlers
       cy.on('click', 'node', (evt) => {
         const nodeId = evt.target.id();
         setSelectedNodeId(nodeId);
       });

       cy.on('dblclick', 'node', (evt) => {
         const nodeId = evt.target.id();
         goToContent(nodeId);
       });

       cy.on('free', 'node', (evt) => {
         const nodeId = evt.target.id();
         const pos = evt.target.position();
         updateNodePosition(nodeId, pos);
       });

       return () => cy.destroy();
     }, [nodes, edges, graphViewState]);

     return (
       <div className="graph-view">
         <div ref={containerRef} className="cytoscape-container" style={{ width: '100%', height: 'calc(100vh - 120px)' }} />
         <GraphControls
           onChangeLayout={changeLayout}
           onZoomIn={() => zoom('in')}
           onZoomOut={() => zoom('out')}
           onResetView={resetView}
           currentLayout={graphViewState.layout.name}
         />
       </div>
     );
   }
   ```

3. Crie `src/components/GraphControls.tsx`:
   - Dropdown de layouts
   - Buttons de zoom, reset

SA√çDA ESPERADA:
- `src/components/GraphView.tsx`
- `src/components/GraphControls.tsx`
- `src/hooks/useGraphView.ts`

CRIT√âRIOS DE ACEITE:
- [ ] Grafo renderiza sem erros.
- [ ] 100+ n√≥s renderizam suavemente (30+ FPS).
- [ ] Sele√ß√£o de n√≥ funciona (visual feedback).
- [ ] Drag n√≥ reposiciona (e persiste).
- [ ] Double-click n√≥ abre editor (callback).
- [ ] Zoom in/out funciona.
- [ ] Pan funciona (mouse drag).
- [ ] Layout selector muda layout em tempo real.
- [ ] Modo escuro aplicado (background escuro).

N√ÉO FAZER:
- N√£o fazer routing (ser√° Fase 4).
```

***

### ETAPA 4: Integra√ß√£o com Store & Hooks

**Objetivo:**  
Garantir que mudan√ßas no grafo (reposicionamento de n√≥s) s√£o persistidas no store, e que grafo se atualiza quando conte√∫dos s√£o adicionados/removidos.

**Arquivos principais a tocar:**
- `src/hooks/useGraph.ts` (refinamento)
- `src/store/appStore.ts` (adicionar action para atualizar nodePosition)
- `tests/integration/graph.integration.test.ts`

**Prompt para IA:**

```text
Voc√™ √© um expert em integra√ß√£o de componentes e state management.

TAREFA:
Implementar integra√ß√£o completa entre GraphView e Store, garantindo que mudan√ßas no grafo (reposicionamento) s√£o persistidas e que grafo se atualiza automaticamente com novas/removidas contents.

CONTEXTO IMPORTANTE:
- Ao mover n√≥, deve-se atualizar Content.nodePosition via store action.
- Ao fechar conte√∫do, deve aparecer no grafo (autom√°tico).
- Ao deletar conte√∫do, desaparecer do grafo (autom√°tico).
- Ao criar link, aparecer aresta no grafo (autom√°tico).

FUNCIONALIDADE DESEJADA:

1. **Store Action (appStore.ts):**
   ```typescript
   updateNodePosition: (contentId: string, position: Position): void => {
     const { state } = get();
     const newState = GraphManager.updateNodePosition(contentId, position, state);
     get().setState(newState);
   };
   ```

2. **useGraph Hook Refinement:**
   - Compute nodes/edges a partir de state.contents + state.links
   - Atualizar automaticamente quando state muda
   - Retornar { nodes, edges, refresh }

3. **Integration Test:**
   ```typescript
   describe('Graph Integration', () => {
     it('should update grafo when content closed', () => {
       // Criar content (open)
       // Verificar que n√≥ n√£o aparece
       // Fechar content
       // Verificar que n√≥ aparece
     });

     it('should update grafo when link created', () => {
       // Criar 2 contents fechados
       // Verificar 0 edges
       // Criar link
       // Verificar 1 edge
     });

     it('should persist node position on drag', () => {
       // Render graph
       // Drag n√≥ para posi√ß√£o nova
       // Verificar que Content.nodePosition atualizado
       // Refresh
       // Verificar que n√≥ ainda nessa posi√ß√£o
     });
   });
   ```

INSTRU√á√ïES T√âCNICAS:

1. Refinar `src/hooks/useGraph.ts`.
2. Adicionar action ao store.
3. Testes de integra√ß√£o.

SA√çDA ESPERADA:
- `src/hooks/useGraph.ts` (refinado)
- `src/store/appStore.ts` (com nova action)
- `tests/integration/graph.integration.test.ts`

CRIT√âRIOS DE ACEITE:
- [ ] Node positions persistem.
- [ ] Grafo atualiza quando contents mudam.
- [ ] Links aparecem/desaparecem corretamente.

N√ÉO FAZER:
- N√£o fazer routing.
```

***

### ETAPA 5: Testes & Valida√ß√£o Final

**Objetivo:**  
Testes unit√°rios de graph manager, hook, component. Coverage >85%.

**Arquivos principais a tocar:**
- `src/managers/GraphManager.test.ts` (refinamento)
- `src/hooks/useGraphView.test.ts`
- `src/components/GraphView.test.tsx`
- `tests/integration/graph.*.test.ts`

**Prompt para IA:**

```text
Voc√™ √© um expert em testes React + Cytoscape.

TAREFA:
Implementar suite de testes abrangentes para Graph (Fase 3).

CONTEXTO IMPORTANTE:
- Testes unit√°rios de GraphManager.
- Testes de hooks (useGraph, useGraphView).
- Testes de integra√ß√£o (graph + store + content).
- Coverage >85%.

FUNCIONALIDADE DESEJADA:

1. **Manager Tests:**
   - buildGraph returns correct nodes/edges
   - updateNodePosition updates state
   - filterByAreaId works

2. **Hook Tests:**
   - useGraph returns correct nodes/edges
   - useGraphView manages selections, layout changes
   - zoom in/out works

3. **Component Tests:**
   - GraphView renders without errors
   - Cytoscape initializes correctly
   - Node selection visual feedback

4. **Integration Tests:**
   - Full workflow: content closed ‚Üí appears in grafo ‚Üí reposition ‚Üí persists

INSTRU√á√ïES T√âCNICAS:

1. Use `@testing-library/react`.
2. Mock Cytoscape se necess√°rio (pode ser complexo).
3. Coverage report.

SA√çDA ESPERADA:
- Tests files across src/
- Coverage >85%
- All tests passing

CRIT√âRIOS DE ACEITE:
- [ ] `npm run test` passa todas as suites.
- [ ] Coverage >85%.

N√ÉO FAZER:
- N√£o fazer E2E com Playwright (Fase 6).
```

***

## Como Validar Localmente

Ap√≥s completar ETAPA 1-5, execute:

```bash
# 1. Type Check
npm run type-check
npm run lint

# 2. Testes
npm run test                    # Todos os testes
npm run test -- --coverage      # Com coverage

# 3. Build
npm run build

# 4. Dev Server (teste manual)
npm run dev
# Abrir http://localhost:5173
# Dever√° renderizar app com GraphView component
```

***

## O que Deve Estar Acess√≠vel na UI ao Final

- ‚úÖ **Graph Visual:**
  - Stage Cytoscape com fundo escuro
  - N√≥s (c√≠rculos) com emoji + t√≠tulo
  - Arestas (setas) conectando n√≥s
  - Links manuais em roxo, autom√°ticos em verde (com tracejado)

- ‚úÖ **Graph Interactions:**
  - Clique em n√≥ ‚Üí sele√ß√£o visual (outline amarelo)
  - Double-click n√≥ ‚Üí callback para editar (navega para ContentPage, Fase 4)
  - Drag n√≥ ‚Üí reposiciona e persiste
  - Zoom in/out (bot√µes ou mouse wheel)
  - Pan (mouse drag quando nenhum n√≥ selecionado)

- ‚úÖ **Controls:**
  - Layout selector (force-directed, circular, grid, breadthfirst)
  - Zoom buttons (in, out)
  - Reset view button

- ‚úÖ **Automatiza√ß√£o:**
  - Ao fechar conte√∫do, aparece n√≥ no grafo
  - Ao deletar conte√∫do, desaparece do grafo
  - Ao criar link, aparece aresta
  - Reposicionamento persiste em LocalStorage

***

## Pr√≥xima Fase (Teaser)

**Fase 4: UI Navigation & Routing**  
Implementaremos navega√ß√£o SPA completa com React Router: Home page (lista de √°reas), Area page (lista de conte√∫dos + mini-grafo), Content page (canvas editor + propriedades), Graph page (grafo global). Navbar com bot√µes de exportar/importar. Atalhos de teclado (Ctrl+S, Ctrl+E). Ao final: aplica√ß√£o com navega√ß√£o completa entre todas as visualiza√ß√µes.

***